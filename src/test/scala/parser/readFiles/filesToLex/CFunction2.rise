calcAcc::4xF32->4xF32->F32->F32->4xF32->4xF32
foreign calcAcc(p1,p2,deltaT, espSqr, acc){
   float4 r;
   r.xyz = p2.xyz - p1.xyz;
   float distSqr = r.x*r.x + r.y*r.y + r.z*r.z;
   float invDist = 1.0f / sqrt(distSqr + espSqr);
   float invDistCube = invDist * invDist * invDist;
   float s = invDistCube * p2.w;
   float4 res;
   res.xyz = acc.xyz + s * r.xyz;
   return res;
}
update::4xF32->4xF32->F32->4xF32->(4xF32,4xF32)
foreign update(pos, vel, deltaT, acceleration){
  float4 newPos;
  newPos.xyz = pos.xyz + vel.xyz * deltaT + 0.5f * acceleration.xyz * deltaT * deltaT;
  newPos.w = pos.w;
  float4 newVel;
  newVel.xyz = vel.xyz + acceleration.xyz * deltaT;
  newVel.w = vel.w;
  return (struct Record_float4_float4){ newPos, newVel };
}